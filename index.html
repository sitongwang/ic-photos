<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title>MVC PAGES</title>

    <!-- Welcome to ZIM at http://zimjs.com - Code Interactive Media Pizzazz! 				-->
    <!-- ZIM runs on the HTML Canvas powered by JavaScript and CreateJS http://createjs.com -->
    <!-- Founded by Inventor Dan Zen - http://danzen.com - Canadian New Media Award Winner 	-->
    <!-- ZIM is free to use. You can donate to help improve ZIM at http://zimjs.com/donate 	-->

    <!-- as of ZIM 4.3.0 load createjs namespace first -->
    <script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
    <script>
        var zon = true; // true for comments from zim code
    </script>
    <script src="https://d309knd7es5f10.cloudfront.net/zim_4.9.0.js"></script>
    <!-- add _doc to see code -->
    <!-- use zimjs.com/code/distill for minified individual functions! -->

    <!-- <script src="code/view.js"></script>
<script src="code/controller.js"></script> -->
    <script>
        // SCALING OPTIONS
        // scaling can have values as follows with full being the default
        // "fit"		sets canvas and stage to dimensions and scales to fit inside window size
        // "outside"	sets canvas and stage to dimensions and scales to fit outside window size
        // "full"		sets stage to window size with no scaling
        // "tagID"		add canvas to HTML tag of ID - set to dimensions if provided - no scaling

        var scaling = "full"; // makes stage the window size but does not scale content
        var width = null;
        var height = null;
        var color = "#FAFAFA";

        var frame = new zim.Frame(scaling, width, height, color); // see docs for more options and info
        frame.on("ready", function() {
            zog("ready from ZIM Frame");

            var stage = frame.stage;
            var stageW = frame.width;
            var stageH = frame.height;

            // // 1. load the background assets using frame.loadAssets
            // frame.loadAssets([
            // 	"1.png",
            // 	"2.png",
            // 	"3.png",
            // 	"4.png",
            // 	"5.png",
            // ], "assets/");

            // var textArea = new zim.TextArea({
            //         frame: frame,
            //         // readOnly:true,
            //         placeholder: "hello"
            //     })
            //     .addTo(stage).pos(20, 20);
            // // textArea.text = "hello world";
            // textArea.on("input", function() {
            //     zog(textArea.text)
            // })

            // zim.timeout(1000, function() {
            //     textArea.x = 600;
            //     textArea.resize()
            //     stage.update();
            // });

           
            frame.loadAssets([
                "1.png",
                "2.png",
                "3.png",
                "4.png",
                "5.png",
                "icon.png",
            ], "assets/");

            frame.on("complete", function() {

                var loader = new zim.Loader({
                        frame: frame,
                        label: new zim.Label({
                            text: "",
                            align: "center",
                            size: 20,
                            backing:frame.asset("icon.png")

                        }),
                        corner: 20,
                        width: 200,
                        height: 200
                    })
                    .centerReg(stage);
                    loader.backing.alpha=0;
                
                // var drop = frame.asset("icon.png");
                 
                
               loader.on("loaded", function(e) {
                    zim.loop(e.bitmaps,
                        function(bitmap) {
                            bitmap.centerReg(
                                stage,true,0
                            )
                             .drag({onTop:false})
                              .scaleTo(stage,80,80);
                             // .scale(.7);
                             // zog(bitmap.scaleX);
                             filter.scaleTo(bitmap,bitmap.scaleX*100,bitmap.scaleX*100,"both");
                             filter2.scaleTo(bitmap,bitmap.scaleX*100,bitmap.scaleX*100,"both");
                             filter3.scaleTo(bitmap,bitmap.scaleX*100,bitmap.scaleX*100,"both");

                        })


                    loader.removeFrom(stage);
                    stage.update();
                });

                // 1. make content to be masked
                var container = new zim.Container();
                // stage.addChild(container);
                // container.x = 100; container.y = 100;


                var pic1 = frame.asset("1.png");
                container.addChild(pic1);
                pic1.scale(.4);
                pic1.x = 50;
                pic1.y = 600;

                var pic2 = frame.asset("2.png");
                container.addChild(pic2);
                pic2.scale(.44);
                pic2.x = 150;
                pic2.y = 600;

                var pic3 = frame.asset("3.png");
                container.addChild(pic3);
                pic3.scale(.35);
                pic3.x = 270;
                pic3.y = 600;

                var pic4 = frame.asset("4.png");
                container.addChild(pic4);
                pic4.scale(.4);
                pic4.x = 380;
                pic4.y = 600;

                var pic5 = frame.asset("5.png");
                container.addChild(pic5);
                pic5.scale(.35);
                pic5.x = 500;
                pic5.y = 600;
                 
//////////////////////////Fliter Label//////////////////////////////////

                // var button = new zim.Button("CLICK");
                var label2 = new zim.Label({
                   text:"Stickers",
                   size:20,
                   color:"black",
                   fontOptions:"bold",
                   rollColor:"MediumOrchid"
                });
                label2.center(stage);
                label2.x = 40;
                label2.y = 50;
                label2.on("click", function(){
                     stage.addChild(container);
                });

                // var tabs = new zim.Tabs({
                //     width:430,
                //     tabs:["Pink", "Blue", "Green"]
                // }).centerReg(stage);
                // tabs.y = 600;

//////////////////////////////////////////////////////////////////////////
/////////////////////////////filters//////////////////////////////////////
//////////////////////////////////////////////////////////////////////////
                
                var container2 = new zim.Container();


                var filter = new zim.Rectangle(2000,
                    2000, frame.pink);
                filter.x = 0;
                filter.y = 0;
                filter.alpha = 0;
                filter.centerReg(stage,true,0);


                var filter2 = new zim.Rectangle(2000,
                    2000, frame.blue);
                filter2.x = 0;
                filter2.y = 0;
                filter2.alpha = 0;
                filter2.centerReg(stage,true,0);
                
                var filter3 = new zim.Rectangle(2000,
                    2000, frame.green);
                filter3.x = 0;
                filter3.y = 0;
                filter3.alpha = 0;
                filter3.centerReg(stage,true,0);
                
               
                var label3 = new zim.Label({
                   text:"Pink",
                   size:20,
                   color:"pink",
                   fontOptions:"bold",
                   rollColor:"MediumOrchid"
                });
                label3.center(container2);
                label3.x = 160;
                label3.y = 100;
                label3.on("click", function(){
                     // filter.centerReg(stage,true,0);
                   filter.alpha = 0.3;

                });

                var label4 = new zim.Label({
                   text:"Blue",
                   size:20,
                   color:"blue",
                   fontOptions:"bold",
                   rollColor:"MediumOrchid"
                });
                label4.center(container2);
                label4.x = 160;
                label4.y = 150;
                label4.on("click", function(){
                     // filter.centerReg(stage,true,0);
                   filter2.alpha = 0.3;

                });

                var label5 = new zim.Label({
                   text:"Green",
                   size:20,
                   color:"green",
                   fontOptions:"bold",
                   rollColor:"MediumOrchid"
                });
                label5.center(container2);
                label5.x = 160;
                label5.y = 200;
                label5.on("click", function(){
                     // filter.centerReg(stage,true,0);
                   filter3.alpha = 0.3;

                });

                var addFilter = new zim.Label({
                   text:"Filters",
                   size:20,
                   color:"black",
                   fontOptions:"bold",
                   rollColor:"MediumOrchid"
                });
                addFilter.center(stage);
                addFilter.x = 160;
                addFilter.y = 50;
                addFilter.on("click", function(){
                     // filter.centerReg(stage,true,0);
                 stage.addChild(container2);

                });

                
               


                // filter.drag({onTop:false});
                pic1.drag({onTop: false});
                pic2.drag({onTop: false});
                pic3.drag({onTop: false});
                pic4.drag({onTop: false});
                pic5.drag({onTop: false});

                stage.update();

            });

            stage.update();

        }, null, true); // end of ready - only run once (true)
    </script>
</head>

<body>
    <!-- canvas with id="myCanvas" is made by zim Frame -->
</body>

</html>